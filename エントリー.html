<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>PRIDE データ追加ページ</title>

<style>
body {
  margin: 0;
  background: #e9e9e9;
  font-size: 20px;
  display: flex;
  justify-content: center;
  padding: 40px 0;
}

/* 全体パネル */
.outer-panel {
  background: #ffffff;
  width: 60rem;
  max-width: 95%;
  padding: 30px 40px;
  border-radius: 15px;
  box-shadow: 0 0 15px rgba(0,0,0,0.15);
  box-sizing: border-box;
}

h2 {
  text-align: center;
  margin-top: 0;
}

/* ボタン横並び */
.button-row {
  display: flex;
  gap: 20px;
  margin-bottom: 30px;
  justify-content: center;
}

.button-row button {
  padding: 12px 20px;
  font-size: 20px;
  border: 2px solid #888;
  background: #fff;
  cursor: pointer;
  border-radius: 6px;
}

.button-row button.selected {
  background: #4da3ff;
  color: white;
  border-color: #1d6fd6;
  font-weight: bold;
}

/* 入力パネル */
.input-panel {
  display: none;
  padding: 20px;
  border: 2px solid #aaa;
  background: #ffffff;
  border-radius: 10px;
  margin-bottom: 20px;
  box-sizing: border-box;
}

label {
  display: block;
  margin-top: 15px;
  font-size: 18px;
}

input {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border-radius: 6px;
  border: 1px solid #aaa;
  box-sizing: border-box;
  font-size: 18px;
}

button.add-btn {
  margin-top: 20px;
  padding: 12px 20px;
  font-size: 20px;
  border-radius: 8px;
  border: none;
  background: #4da3ff;
  color: white;
  cursor: pointer;
}

button.add-btn:hover {
  background: #1d6fd6;
}

/* 一覧表示 */
.list-box {
  margin-top: 30px;
  padding: 20px;
  background: #fafafa;
  border-radius: 10px;
  border: 1px solid #ccc;
}

.entry-item {
  padding: 8px 0;
  border-bottom: 1px solid #ddd;
  font-size: 18px;
}

/* ▼ 注意書き（1回だけ表示） */
.notice {
  margin-top: 30px;
  font-size: 18px;
  font-weight: bold;
  color: #444;
  line-height: 1.6;
}

.notice .warning {
  color: red;
}
</style>
</head>

<body>

<div class="outer-panel">

  <h2>PRIDE エントリーページ</h2>

  <!-- 部門ボタン -->
  <div class="button-row">
    <button id="btn1" onclick="showPanel(1)">SR</button>
    <button id="btn2" onclick="showPanel(2)">マークスマン</button>
    <button id="btn3" onclick="showPanel(3)">レディース</button>
  </div>

  <!-- SR -->
  <div id="panel1" class="input-panel">
    <label>ゲームの名前：</label>
    <input type="text" id="game1">

    <label>パラレルの名前：</label>
    <input type="text" id="parallel1">

    <button class="add-btn" onclick="addEntry(1)">エントリーする</button>
  </div>

  <!-- マークスマン -->
  <div id="panel2" class="input-panel">
    <label>ゲームの名前：</label>
    <input type="text" id="game2">

    <label>パラレルの名前：</label>
    <input type="text" id="parallel2">

    <button class="add-btn" onclick="addEntry(2)">エントリーする</button>
  </div>

  <!-- レディース -->
  <div id="panel3" class="input-panel">
    <label>ゲームの名前：</label>
    <input type="text" id="game3">

    <label>パラレルの名前：</label>
    <input type="text" id="parallel3">

    <button class="add-btn" onclick="addEntry(3)">エントリーする</button>
  </div>

  <!-- 一覧表示 -->
  <div class="list-box">
    <h3>現在の登録データ</h3>
    <div id="entryList"></div>
  </div>

  <!-- ▼ 注意書き（1回だけ） -->
  <div class="notice">
    ・入力内容は正確に記入してください。<br>
    ・抽選後に名前を変更した場合は、抽選などは変更前の名前が使用されます。。<br>
    ・お困りの際は隊長までご連絡ください。<a href="https://www.tiktok.com/@captain122483" target="_blank">（ヘルパー隊長）</a>
  </div>

  <!-- 戻る -->
  <div style="text-align:center; margin-top:25px;">
    <a href="index.html">
      <button style="padding:12px 25px; font-size:20px;">← メインページへ戻る</button>
    </a>
  </div>

</div>

<script>
// ▼ localStorage から読み込み（部門ごとに分ける）
let dataSR = JSON.parse(localStorage.getItem("pride_SR")) || [];
let dataMarksman = JSON.parse(localStorage.getItem("pride_Marksman")) || [];
let dataLadies = JSON.parse(localStorage.getItem("pride_Ladies")) || [];

// ▼ パネル切り替え
function showPanel(num) {
  document.querySelectorAll('.input-panel').forEach(p => p.style.display = 'none');
  document.getElementById(`panel${num}`).style.display = 'block';

  document.querySelectorAll('.button-row button').forEach(btn => btn.classList.remove('selected'));
  document.getElementById(`btn${num}`).classList.add('selected');
}

// ▼ データ追加
function addEntry(num) {
  const game = document.getElementById(`game${num}`).value.trim();
  const parallel = document.getElementById(`parallel${num}`).value.trim();

  if (!game || !parallel) {
    alert("両方入力してください");
    return;
  }

  // ▼ ここで確認ダイアログを出す
  const ok = confirm(
    `以下の内容でエントリーします。\n\n` +
    `【ゲーム名】${game}\n` +
    `【パラレル名】${parallel}\n\n` +
    `よろしいですか？`
  );

  if (!ok) {
    return; // キャンセルされたら登録しない
  }

  let target;

  if (num === 1) target = dataSR;
  if (num === 2) target = dataMarksman;
  if (num === 3) target = dataLadies;

  target.push({ game, parallel });

  // 保存
  localStorage.setItem("pride_SR", JSON.stringify(dataSR));
  localStorage.setItem("pride_Marksman", JSON.stringify(dataMarksman));
  localStorage.setItem("pride_Ladies", JSON.stringify(dataLadies));

  renderList();

  document.getElementById(`game${num}`).value = "";
  document.getElementById(`parallel${num}`).value = "";
}

// ▼ 一覧表示
function renderList() {
  const list = document.getElementById("entryList");
  list.innerHTML = "";

  const addSection = (title, arr) => {
    const h = document.createElement("div");
    h.style.fontWeight = "bold";
    h.style.marginTop = "15px";
    h.textContent = `■ ${title}`;
    list.appendChild(h);

    arr.forEach((item, index) => {
      const div = document.createElement("div");
      div.className = "entry-item";
      div.textContent = `${index + 1}. ゲーム名：${item.game} ｜ パラレル名：${item.parallel}`;
      list.appendChild(div);
    });
  };

  addSection("SR", dataSR);
  addSection("マークスマン", dataMarksman);
  addSection("レディース", dataLadies);
}

// 初期表示
renderList();
</script>

</body>
</html>
