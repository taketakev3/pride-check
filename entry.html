<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>PRIDE ã‚¨ãƒ³ãƒˆãƒªãƒ¼</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f5f5f5;
      padding: 20px;
      text-align: center;
    }

    .btn-group {
      margin-bottom: 20px;
    }

    .btn-group button {
      padding: 10px 20px;
      margin: 5px;
      font-size: 18px;
      border: none;
      border-radius: 5px;
      background: #ddd;
      cursor: pointer;
    }

    .btn-group button.active {
      background: #007bff;
      color: white;
    }

    .panel {
      display: none;
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      margin: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      text-align: left;
    }

    input {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    button.submit {
      width: 100%;
      padding: 12px;
      margin-top: 20px;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 18px;
    }

    .notice {
      margin-top: 20px;
      font-size: 14px;
      color: #555;
      line-height: 1.6;
    }

    .back {
      margin-top: 30px;
      display: inline-block;
      padding: 10px 20px;
      background: #444;
      color: white;
      border-radius: 5px;
      text-decoration: none;
    }
  </style>
</head>
<body>

<h2>PRIDE ã‚¨ãƒ³ãƒˆãƒªãƒ¼</h2>

<div class="btn-group">
  <button id="btnSR" class="active">SR</button>
  <button id="btnMarksman">ãƒãƒ¼ã‚¯ã‚¹ãƒãƒ³</button>
  <button id="btnLadies">ãƒ¬ãƒ‡ã‚£ãƒ¼ã‚¹</button>
</div>

<!-- SR -->
<div id="panelSR" class="panel" style="display:block;">
  <input id="srName1" placeholder="ã‚²ãƒ¼ãƒ å">
  <input id="srName2" placeholder="ãƒ‘ãƒ©ãƒ¬ãƒ«å">
  <button class="submit" onclick="addEntry('entries_SR', 'srName1', 'srName2')">ã‚¨ãƒ³ãƒˆãƒªãƒ¼è¿½åŠ </button>
</div>

<!-- Marksman -->
<div id="panelMarksman" class="panel">
  <input id="mkName1" placeholder="ã‚²ãƒ¼ãƒ å">
  <input id="mkName2" placeholder="ãƒ‘ãƒ©ãƒ¬ãƒ«å">
  <button class="submit" onclick="addEntry('entries_Marksman', 'mkName1', 'mkName2')">ã‚¨ãƒ³ãƒˆãƒªãƒ¼è¿½åŠ </button>
</div>

<!-- Ladies -->
<div id="panelLadies" class="panel">
  <input id="ldName1" placeholder="ã‚²ãƒ¼ãƒ å">
  <input id="ldName2" placeholder="ãƒ‘ãƒ©ãƒ¬ãƒ«å">
  <button class="submit" onclick="addEntry('entries_Ladies', 'ldName1', 'ldName2')">ã‚¨ãƒ³ãƒˆãƒªãƒ¼è¿½åŠ </button>
</div>

<div class="notice">
  â€» å…¥åŠ›å†…å®¹ã¯æ­£ç¢ºã«ãŠé¡˜ã„ã—ã¾ã™ã€‚<br>
  â€» æŠ½é¸å¾Œã®åå‰å¤‰æ›´ã¯ã§ãã¾ã›ã‚“ã€‚<br>
  â€» ä¸æ˜ç‚¹ãŒã‚ã‚Œã°ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ã¾ã§ã€‚<br>
  TikTok: <a href="https://www.tiktok.com/@captain122483" target="_blank">https://www.tiktok.com/@captain122483</a>
</div>

<a href="index.html" class="back">ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹</a>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc } 
    from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getAuth, signInAnonymously } 
    from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  // ã‚ãªãŸã® Firebase è¨­å®šã‚’å…¥ã‚Œã¦ã­
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // ğŸ”¥ åŒ¿åãƒ­ã‚°ã‚¤ãƒ³ï¼ˆæœ€é‡è¦ï¼‰
  const auth = getAuth();
  signInAnonymously(auth)
    .then(() => console.log("åŒ¿åãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ"))
    .catch(err => console.error("åŒ¿åãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—:", err));

  // ğŸ”¥ ãƒ‘ãƒãƒ«åˆ‡ã‚Šæ›¿ãˆ
  function showPanel(target) {
    document.querySelectorAll(".panel").forEach(p => p.style.display = "none");
    document.getElementById("panel" + target).style.display = "block";

    document.querySelectorAll(".btn-group button").forEach(b => b.classList.remove("active"));
    document.getElementById("btn" + target).classList.add("active");

    clearInputs();
  }

  // ğŸ”¥ å…¥åŠ›æ¬„ã‚¯ãƒªã‚¢
  function clearInputs() {
    document.querySelectorAll("input").forEach(i => i.value = "");
  }

  // ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
  document.getElementById("btnSR").onclick = () => showPanel("SR");
  document.getElementById("btnMarksman").onclick = () => showPanel("Marksman");
  document.getElementById("btnLadies").onclick = () => showPanel("Ladies");

  // ğŸ”¥ Firestore è¿½åŠ 
  async function addEntry(collectionName, id1, id2) {
    const name1 = document.getElementById(id1).value.trim();
    const name2 = document.getElementById(id2).value.trim();

    if (!name1 || !name2) {
      alert("åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
      return;
    }

    await addDoc(collection(db, collectionName), {
      name1,
      name2,
      time: new Date()
    });

    alert("ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’è¿½åŠ ã—ã¾ã—ãŸ");
    clearInputs();
  }
</script>

</body>
</html>
